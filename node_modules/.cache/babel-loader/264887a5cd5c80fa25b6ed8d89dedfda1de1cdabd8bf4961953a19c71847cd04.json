{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"D:\\\\Lovenia Skripsi 2\\\\src\\\\assets\\\\Pages\\\\Bidang Kemahasiswaan\\\\InformasiPendaftar\\\\ValidasiAndCheck.jsx\\\\DocumentValidation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst documentList = [\"Pass Foto\", \"Form Biodata A1\", \"Form Keterampilan\", \"Surat Keterangan Tidak Mampu\", \"Resume Pribadi\", \"Motivation Letter\", \"Surat Pernyataan Tidak Menerima Beasiswa Lain\", \"Surat Pernyataan Bermetrai\", \"Fotocopy KTP\", \"Fotocopy KTM\", \"IPK Semester Terakhir\", \"Transkrip Nilai\"];\nexport default function DocumentValidation() {\n  _s();\n  const {\n    uploadedBy\n  } = useParams();\n  const [documents, setDocuments] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [allComplete, setAllComplete] = useState(false);\n  useEffect(() => {\n    const fetchDocuments = async () => {\n      try {\n        const storedUser = JSON.parse(localStorage.getItem(\"user\"));\n        const token = storedUser === null || storedUser === void 0 ? void 0 : storedUser.token;\n        if (!token || !uploadedBy) {\n          console.error(\"Missing token or UUID.\");\n          return;\n        }\n\n        // Fetch student detail\n        const detailResponse = await axios.get(`http://localhost:9900/sms-mgmt/scholarship/detail?uuid=${uploadedBy}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const student = detailResponse.data.output_schema.result;\n\n        // Fetch documents uploaded by student\n        const docResponse = await axios.get(`http://localhost:9900/sms-mgmt/document/get?uploadedBy=${student.master_user.uuid}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const uploadedDocuments = docResponse.data.output_schema.records || [];\n\n        // Build documents map\n        const newDocuments = {};\n        documentList.forEach(docName => {\n          const isUploaded = uploadedDocuments.some(doc => doc.category === docName);\n          newDocuments[docName] = isUploaded;\n        });\n        setDocuments(newDocuments);\n\n        // Cek semua sudah lengkap\n        const isAllComplete = Object.values(newDocuments).every(Boolean);\n        setAllComplete(isAllComplete);\n      } catch (error) {\n        console.error(\"Error fetching documents:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDocuments();\n  }, [uplo]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: \"Loading cek dokumen...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"fs-4 fw-bold m-0\",\n        children: \"Cek Dokumen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \":\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: allComplete ? \"text-success\" : \"text-danger\",\n          children: allComplete ? \"Lengkap\" : \"Tidak Lengkap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-group border-0\",\n      children: documentList.map((doc, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-group-item border-0 bg-transparent d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-3 align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"form-check-input\",\n            checked: documents[doc],\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: doc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \":\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: documents[doc] ? \"text-success\" : \"text-muted\",\n            children: documents[doc] ? \"Tersedia\" : \"Tidak ada File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-success rounded-pill px-5 mt-5\",\n      disabled: !allComplete,\n      children: allComplete ? \"Selesai\" : \"Lengkapi Dulu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(DocumentValidation, \"hsY2v60GDy/D/pqkJKVviz3oNM0=\", false, function () {\n  return [useParams];\n});\n_c = DocumentValidation;\nvar _c;\n$RefreshReg$(_c, \"DocumentValidation\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useEffect","useState","useParams","axios","jsxDEV","_jsxDEV","documentList","DocumentValidation","uploadedBy","documents","setDocuments","loading","setLoading","allComplete","setAllComplete","fetchDocuments","storedUser","JSON","parse","localStorage","getItem","token","console","error","detailResponse","get","headers","Authorization","student","data","output_schema","result","docResponse","master_user","uuid","uploadedDocuments","records","newDocuments","forEach","docName","isUploaded","some","doc","category","isAllComplete","Object","values","every","Boolean","uplo","className","children","fileName","lineNumber","columnNumber","map","idx","type","checked","readOnly","disabled","_c","$RefreshReg$"],"sources":["D:/Lovenia Skripsi 2/src/assets/Pages/Bidang Kemahasiswaan/InformasiPendaftar/ValidasiAndCheck.jsx/DocumentValidation.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst documentList = [\r\n  \"Pass Foto\",\r\n  \"Form Biodata A1\",\r\n  \"Form Keterampilan\",\r\n  \"Surat Keterangan Tidak Mampu\",\r\n  \"Resume Pribadi\",\r\n  \"Motivation Letter\",\r\n  \"Surat Pernyataan Tidak Menerima Beasiswa Lain\",\r\n  \"Surat Pernyataan Bermetrai\",\r\n  \"Fotocopy KTP\",\r\n  \"Fotocopy KTM\",\r\n  \"IPK Semester Terakhir\",\r\n  \"Transkrip Nilai\",\r\n];\r\n\r\nexport default function DocumentValidation() {\r\n  const { uploadedBy } = useParams();\r\n  const [documents, setDocuments] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [allComplete, setAllComplete] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchDocuments = async () => {\r\n      try {\r\n        const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n        const token = storedUser?.token;\r\n\r\n        if (!token || !uploadedBy) {\r\n          console.error(\"Missing token or UUID.\");\r\n          return;\r\n        }\r\n\r\n        // Fetch student detail\r\n        const detailResponse = await axios.get(`http://localhost:9900/sms-mgmt/scholarship/detail?uuid=${uploadedBy}`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        const student = detailResponse.data.output_schema.result;\r\n\r\n        // Fetch documents uploaded by student\r\n        const docResponse = await axios.get(`http://localhost:9900/sms-mgmt/document/get?uploadedBy=${student.master_user.uuid}`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        const uploadedDocuments = docResponse.data.output_schema.records || [];\r\n\r\n        // Build documents map\r\n        const newDocuments = {};\r\n        documentList.forEach((docName) => {\r\n          const isUploaded = uploadedDocuments.some((doc) => doc.category === docName);\r\n          newDocuments[docName] = isUploaded;\r\n        });\r\n\r\n        setDocuments(newDocuments);\r\n\r\n        // Cek semua sudah lengkap\r\n        const isAllComplete = Object.values(newDocuments).every(Boolean);\r\n        setAllComplete(isAllComplete);\r\n\r\n      } catch (error) {\r\n        console.error(\"Error fetching documents:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDocuments();\r\n  }, [uplo]);\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-5\">Loading cek dokumen...</div>;\r\n  }\r\n\r\n  return (\r\n    <section className=\"mt-5\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2 className=\"fs-4 fw-bold m-0\">Cek Dokumen</h2>\r\n        <div className=\"d-flex gap-2\">\r\n          <span>Status</span>\r\n          <span>:</span>\r\n          <span className={allComplete ? \"text-success\" : \"text-danger\"}>\r\n            {allComplete ? \"Lengkap\" : \"Tidak Lengkap\"}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"list-group border-0\">\r\n        {documentList.map((doc, idx) => (\r\n          <div\r\n            key={idx}\r\n            className=\"list-group-item border-0 bg-transparent d-flex justify-content-between align-items-center\"\r\n          >\r\n            <div className=\"d-flex gap-3 align-items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n                checked={documents[doc]}\r\n                readOnly\r\n              />\r\n              <span>{doc}</span>\r\n            </div>\r\n            <div className=\"d-flex gap-3\">\r\n              <span>:</span>\r\n              <span className={documents[doc] ? \"text-success\" : \"text-muted\"}>\r\n                {documents[doc] ? \"Tersedia\" : \"Tidak ada File\"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <button\r\n        className=\"btn btn-success rounded-pill px-5 mt-5\"\r\n        disabled={!allComplete}\r\n      >\r\n        {allComplete ? \"Selesai\" : \"Lengkapi Dulu\"}\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}