{"ast":null,"code":"\"use client\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegistrantTable(){const[registrants,setRegistrants]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchRegistrants=async()=>{try{const storedUser=JSON.parse(localStorage.getItem(\"user\"));const token=storedUser===null||storedUser===void 0?void 0:storedUser.token;if(!token){console.error(\"No token found.\");return;}const response=await axios.get(\"https://simbeasiswauk.site:9900/sms-mgmt/scholarship/get\",{headers:{Authorization:`Bearer ${token}`}});const fetchedRegistrants=response.data.output_schema.records||[];setRegistrants(fetchedRegistrants);}catch(error){console.error(\"Error fetching registrants:\",error);}finally{setLoading(false);}};fetchRegistrants();},[]);const formatStatus=status=>{switch(status){case\"APPROVED\":return\"Lolos\";case\"REJECTED\":return\"Tidak Lolos\";case\"IN_PROGRESS\":return\"Sedang Diproses\";default:return\"-\";}};return/*#__PURE__*/_jsxs(\"section\",{className:\"bg-light rounded p-4 mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h5 mb-4\",children:\"Tabel Pendaftar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-3\",children:\"Nama\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3\",children:\"Fakultas\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3\",children:\"Kelengkapan Dokumen\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"text-center py-5\",children:\"Loading data pendaftar...\"})}):registrants.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"text-center py-5 text-danger\",children:\"Tidak ada pendaftar ditemukan\"})}):registrants.map((registrant,index)=>{var _registrant$masterUse,_registrant$masterUse2,_registrant$major;return/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-light\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"py-3\",children:[((_registrant$masterUse=registrant.masterUser)===null||_registrant$masterUse===void 0?void 0:_registrant$masterUse.lastName)||\"\",\", \",((_registrant$masterUse2=registrant.masterUser)===null||_registrant$masterUse2===void 0?void 0:_registrant$masterUse2.firstName)||\"-\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:((_registrant$major=registrant.major)===null||_registrant$major===void 0?void 0:_registrant$major.facultyName)||\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:\"Lengkap\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:formatStatus(registrant.status)})]},index);})})]})})]});}export default RegistrantTable;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","RegistrantTable","registrants","setRegistrants","loading","setLoading","fetchRegistrants","storedUser","JSON","parse","localStorage","getItem","token","console","error","response","get","headers","Authorization","fetchedRegistrants","data","output_schema","records","formatStatus","status","className","children","colSpan","length","map","registrant","index","_registrant$masterUse","_registrant$masterUse2","_registrant$major","masterUser","lastName","firstName","major","facultyName"],"sources":["D:/Lovenia Skripsi 2/src/assets/Pages/Bidang Kemahasiswaan/Dashboard/RegistrantTable.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction RegistrantTable() {\r\n  const [registrants, setRegistrants] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchRegistrants = async () => {\r\n      try {\r\n        const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n        const token = storedUser?.token;\r\n\r\n        if (!token) {\r\n          console.error(\"No token found.\");\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get(\"https://simbeasiswauk.site:9900/sms-mgmt/scholarship/get\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        const fetchedRegistrants = response.data.output_schema.records || [];\r\n        setRegistrants(fetchedRegistrants);\r\n\r\n      } catch (error) {\r\n        console.error(\"Error fetching registrants:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRegistrants();\r\n  }, []);\r\n\r\n  const formatStatus = (status) => {\r\n    switch (status) {\r\n      case \"APPROVED\":\r\n        return \"Lolos\";\r\n      case \"REJECTED\":\r\n        return \"Tidak Lolos\";\r\n      case \"IN_PROGRESS\":\r\n        return \"Sedang Diproses\";\r\n      default:\r\n        return \"-\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"bg-light rounded p-4 mt-4\">\r\n      <h2 className=\"h5 mb-4\">Tabel Pendaftar</h2>\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr className=\"bg-white\">\r\n              <th className=\"py-3\">Nama</th>\r\n              <th className=\"py-3\">Fakultas</th>\r\n              <th className=\"py-3\">Kelengkapan Dokumen</th>\r\n              <th className=\"py-3\">Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {loading ? (\r\n              <tr>\r\n                <td colSpan=\"4\" className=\"text-center py-5\">Loading data pendaftar...</td>\r\n              </tr>\r\n            ) : registrants.length === 0 ? (\r\n              <tr>\r\n                <td colSpan=\"4\" className=\"text-center py-5 text-danger\">Tidak ada pendaftar ditemukan</td>\r\n              </tr>\r\n            ) : (\r\n              registrants.map((registrant, index) => (\r\n                <tr key={index} className=\"bg-light\">\r\n                  <td className=\"py-3\">\r\n                    {registrant.masterUser?.lastName || \"\"}, {registrant.masterUser?.firstName || \"-\"}\r\n                  </td>\r\n                  <td className=\"py-3\">\r\n                    {registrant.major?.facultyName || \"-\"}\r\n                  </td>\r\n                  <td className=\"py-3\">\r\n                    {/* Untuk sekarang dummy: anggap semua dokumen lengkap */}\r\n                    Lengkap\r\n                  </td>\r\n                  <td className=\"py-3\">\r\n                    {formatStatus(registrant.status)}\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default RegistrantTable;\r\n"],"mappings":"AAAA,YAAY,CACZ,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACzB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,UAAU,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAC3D,KAAM,CAAAC,KAAK,CAAGL,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEK,KAAK,CAE/B,GAAI,CAACA,KAAK,CAAE,CACVC,OAAO,CAACC,KAAK,CAAC,iBAAiB,CAAC,CAChC,OACF,CAEA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,GAAG,CAAC,0DAA0D,CAAE,CAC3FC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUN,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEF,KAAM,CAAAO,kBAAkB,CAAGJ,QAAQ,CAACK,IAAI,CAACC,aAAa,CAACC,OAAO,EAAI,EAAE,CACpEnB,cAAc,CAACgB,kBAAkB,CAAC,CAEpC,CAAE,MAAOL,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,OAAS,CACRT,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDC,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAiB,YAAY,CAAIC,MAAM,EAAK,CAC/B,OAAQA,MAAM,EACZ,IAAK,UAAU,CACb,MAAO,OAAO,CAChB,IAAK,UAAU,CACb,MAAO,aAAa,CACtB,IAAK,aAAa,CAChB,MAAO,iBAAiB,CAC1B,QACE,MAAO,GAAG,CACd,CACF,CAAC,CAED,mBACExB,KAAA,YAASyB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAC5C5B,IAAA,OAAI2B,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC5C5B,IAAA,QAAK2B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B1B,KAAA,UAAOyB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACtB5B,IAAA,UAAA4B,QAAA,cACE1B,KAAA,OAAIyB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACtB5B,IAAA,OAAI2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cAC9B5B,IAAA,OAAI2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAClC5B,IAAA,OAAI2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC7C5B,IAAA,OAAI2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,EAC9B,CAAC,CACA,CAAC,cACR5B,IAAA,UAAA4B,QAAA,CACGtB,OAAO,cACNN,IAAA,OAAA4B,QAAA,cACE5B,IAAA,OAAI6B,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,2BAAyB,CAAI,CAAC,CACzE,CAAC,CACHxB,WAAW,CAAC0B,MAAM,GAAK,CAAC,cAC1B9B,IAAA,OAAA4B,QAAA,cACE5B,IAAA,OAAI6B,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,+BAA6B,CAAI,CAAC,CACzF,CAAC,CAELxB,WAAW,CAAC2B,GAAG,CAAC,CAACC,UAAU,CAAEC,KAAK,QAAAC,qBAAA,CAAAC,sBAAA,CAAAC,iBAAA,oBAChClC,KAAA,OAAgByB,SAAS,CAAC,UAAU,CAAAC,QAAA,eAClC1B,KAAA,OAAIyB,SAAS,CAAC,MAAM,CAAAC,QAAA,EACjB,EAAAM,qBAAA,CAAAF,UAAU,CAACK,UAAU,UAAAH,qBAAA,iBAArBA,qBAAA,CAAuBI,QAAQ,GAAI,EAAE,CAAC,IAAE,CAAC,EAAAH,sBAAA,CAAAH,UAAU,CAACK,UAAU,UAAAF,sBAAA,iBAArBA,sBAAA,CAAuBI,SAAS,GAAI,GAAG,EAC/E,CAAC,cACLvC,IAAA,OAAI2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CACjB,EAAAQ,iBAAA,CAAAJ,UAAU,CAACQ,KAAK,UAAAJ,iBAAA,iBAAhBA,iBAAA,CAAkBK,WAAW,GAAI,GAAG,CACnC,CAAC,cACLzC,IAAA,OAAI2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CACwC,SAE5D,CAAI,CAAC,cACL5B,IAAA,OAAI2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CACjBH,YAAY,CAACO,UAAU,CAACN,MAAM,CAAC,CAC9B,CAAC,GAbEO,KAcL,CAAC,EACN,CACF,CACI,CAAC,EACH,CAAC,CACL,CAAC,EACC,CAAC,CAEd,CAEA,cAAe,CAAA9B,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}