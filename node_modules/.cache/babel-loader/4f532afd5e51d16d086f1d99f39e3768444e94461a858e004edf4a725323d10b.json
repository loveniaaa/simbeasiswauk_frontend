{"ast":null,"code":"\"use client\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import apiClient from\"../../../../../api/apiClient\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const documentList=[\"Pass Foto\",\"Form Biodata A1\",\"Form Keterampilan\",\"Surat Keterangan Tidak Mampu\",\"Resume Pribadi\",\"Motivation Letter\",\"Surat Pernyataan Tidak Menerima Beasiswa Lain\",\"Surat Pernyataan Bermetrai\",\"Fotocopy KTP\",\"Fotocopy KTM\",\"Transkrip Nilai\"];export default function DocumentValidation(){const{uploadedBy}=useParams();const[documents,setDocuments]=useState({});const[loading,setLoading]=useState(true);const[allComplete,setAllComplete]=useState(false);const[verifications,setVerifications]=useState({});const[notes,setNotes]=useState({});const[errorMessage,setErrorMessage]=useState(null);useEffect(()=>{const fetchDocuments=async()=>{try{var _response$data,_response$data$output;if(!uploadedBy)return;const response=await apiClient.get(`/document/get?uploadedBy=${uploadedBy}`);const uploadedDocuments=((_response$data=response.data)===null||_response$data===void 0?void 0:(_response$data$output=_response$data.output_schema)===null||_response$data$output===void 0?void 0:_response$data$output.records)||[];const newDocuments={};const newVerifications={};const newNotes={};for(const docName of documentList){const matchedDoc=uploadedDocuments.find(doc=>doc.category===docName);if(matchedDoc){var _matchedDoc$isVerifie;newDocuments[docName]=matchedDoc;newVerifications[docName]=(_matchedDoc$isVerifie=matchedDoc.isVerified)!==null&&_matchedDoc$isVerifie!==void 0?_matchedDoc$isVerifie:null;newNotes[docName]=matchedDoc.note||\"\";if(matchedDoc.isVerified===true){await apiClient.patch(`/document/verify?uuid=${matchedDoc.uuid}&isVerified=true&note=${encodeURIComponent(matchedDoc.note||\"Auto verified\")}`);}}else{newDocuments[docName]=null;newVerifications[docName]=null;newNotes[docName]=\"\";}}setDocuments(newDocuments);setVerifications(newVerifications);setNotes(newNotes);setAllComplete(Object.values(newDocuments).every(Boolean));}catch(error){setErrorMessage(\"Gagal mengambil dokumen, silakan coba lagi.\");}finally{setLoading(false);}};fetchDocuments();},[uploadedBy]);const handleVerificationChange=(category,value)=>{setVerifications(prev=>({...prev,[category]:value}));};const handleNoteChange=(category,value)=>{setNotes(prev=>({...prev,[category]:value}));};const handleVerifySubmit=async category=>{try{var _notes$category;const document=documents[category];const isVerified=verifications[category];const note=(_notes$category=notes[category])!==null&&_notes$category!==void 0?_notes$category:\"\";if(isVerified===null)return;if(isVerified===false&&!window.confirm(`Tolak dokumen \"${category}\"?`))return;await apiClient.patch(`/document/verify?uuid=${document.uuid}&isVerified=${isVerified}&note=${encodeURIComponent(note)}`);alert(`Dokumen \"${category}\" telah diverifikasi.`);}catch(error){alert(`Gagal memverifikasi dokumen \"${category}\".`);}};const handleDocumentCompletionStatus=async()=>{try{const isAllVerified=Object.values(verifications).every(v=>v===true);// Kirim status ke backend bahwa dokumen sudah lengkap dan valid\nif(isAllVerified){await apiClient.patch(`/document/completion-status?uploadedBy=${uploadedBy}&isComplete=true`);alert(\"Dokumen lengkap dan status beasiswa telah diperbarui.\");}else{alert(\"Dokumen belum lengkap atau belum tervalidasi.\");}}catch(error){alert(\"Gagal memperbarui status kelengkapan dokumen.\");}};const previewDocument=async uuid=>{try{const response=await apiClient.get(`/document/preview/${uuid}`,{responseType:\"blob\"});const blob=new Blob([response.data],{type:response.headers['content-type']});window.open(URL.createObjectURL(blob),\"_blank\");}catch{alert(\"Gagal membuka dokumen.\");}};return/*#__PURE__*/_jsxs(\"section\",{className:\"mt-5\",children:[errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errorMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fs-4 fw-bold m-0\",children:\"Cek Dokumen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"span\",{className:allComplete&&Object.values(verifications).every(v=>v===true)?\"text-success\":\"text-danger\",children:allComplete&&Object.values(verifications).every(v=>v===true)?\"Dokumen Valid dan Lengkap\":\"Belum Valid atau Tidak Lengkap\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group border-0\",children:documentList.map((doc,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"list-group-item border-0 bg-transparent mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-medium\",children:doc}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\":\"}),documents[doc]?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-success\",onClick:()=>{var _documents$doc;return previewDocument((_documents$doc=documents[doc])===null||_documents$doc===void 0?void 0:_documents$doc.uuid);},children:\"Lihat\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Tidak ada File\"}),verifications[doc]===true&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-success\",children:\"Valid\"}),verifications[doc]===false&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-danger\",children:\"Tidak Valid\"}),verifications[doc]===null&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:\"Belum Dicek\"})]}),documents[doc]&&/*#__PURE__*/_jsxs(\"div\",{className:\"ps-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label mb-1\",children:\"Catatan:\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"2\",className:\"form-control\",value:notes[doc]||\"\",onChange:e=>handleNoteChange(doc,e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:verifications[doc]===true,disabled:verifications[doc]===true,onChange:e=>handleVerificationChange(doc,e.target.checked)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>handleVerifySubmit(doc),disabled:verifications[doc]===null||verifications[doc]===true,children:\"Simpan Verifikasi\"})]})]})]},idx))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success rounded-pill px-5 mt-5\",disabled:!allComplete,onClick:handleDocumentCompletionStatus,children:allComplete?\"Selesai\":\"Lengkapi Dulu\"})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","apiClient","jsx","_jsx","jsxs","_jsxs","documentList","DocumentValidation","uploadedBy","documents","setDocuments","loading","setLoading","allComplete","setAllComplete","verifications","setVerifications","notes","setNotes","errorMessage","setErrorMessage","fetchDocuments","_response$data","_response$data$output","response","get","uploadedDocuments","data","output_schema","records","newDocuments","newVerifications","newNotes","docName","matchedDoc","find","doc","category","_matchedDoc$isVerifie","isVerified","note","patch","uuid","encodeURIComponent","Object","values","every","Boolean","error","handleVerificationChange","value","prev","handleNoteChange","handleVerifySubmit","_notes$category","document","window","confirm","alert","handleDocumentCompletionStatus","isAllVerified","v","previewDocument","responseType","blob","Blob","type","headers","open","URL","createObjectURL","className","children","map","idx","onClick","_documents$doc","rows","onChange","e","target","checked","disabled"],"sources":["D:/Lovenia Skripsi 2/src/assets/Pages/Bidang Kemahasiswaan/InformasiPendaftar/ValidasiAndCheck.jsx/DocumentValidation.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport apiClient from \"../../../../../api/apiClient\";\r\n\r\nconst documentList = [\r\n  \"Pass Foto\",\r\n  \"Form Biodata A1\",\r\n  \"Form Keterampilan\",\r\n  \"Surat Keterangan Tidak Mampu\",\r\n  \"Resume Pribadi\",\r\n  \"Motivation Letter\",\r\n  \"Surat Pernyataan Tidak Menerima Beasiswa Lain\",\r\n  \"Surat Pernyataan Bermetrai\",\r\n  \"Fotocopy KTP\",\r\n  \"Fotocopy KTM\",\r\n  \"Transkrip Nilai\",\r\n];\r\n\r\nexport default function DocumentValidation() {\r\n  const { uploadedBy } = useParams();\r\n  const [documents, setDocuments] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [allComplete, setAllComplete] = useState(false);\r\n  const [verifications, setVerifications] = useState({});\r\n  const [notes, setNotes] = useState({});\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchDocuments = async () => {\r\n      try {\r\n        if (!uploadedBy) return;\r\n        const response = await apiClient.get(`/document/get?uploadedBy=${uploadedBy}`);\r\n        const uploadedDocuments = response.data?.output_schema?.records || [];\r\n\r\n        const newDocuments = {};\r\n        const newVerifications = {};\r\n        const newNotes = {};\r\n\r\n        for (const docName of documentList) {\r\n          const matchedDoc = uploadedDocuments.find((doc) => doc.category === docName);\r\n          if (matchedDoc) {\r\n            newDocuments[docName] = matchedDoc;\r\n            newVerifications[docName] = matchedDoc.isVerified ?? null;\r\n            newNotes[docName] = matchedDoc.note || \"\";\r\n\r\n            if (matchedDoc.isVerified === true) {\r\n              await apiClient.patch(\r\n                `/document/verify?uuid=${matchedDoc.uuid}&isVerified=true&note=${encodeURIComponent(matchedDoc.note || \"Auto verified\")}`\r\n              );\r\n            }\r\n          } else {\r\n            newDocuments[docName] = null;\r\n            newVerifications[docName] = null;\r\n            newNotes[docName] = \"\";\r\n          }\r\n        }\r\n\r\n        setDocuments(newDocuments);\r\n        setVerifications(newVerifications);\r\n        setNotes(newNotes);\r\n        setAllComplete(Object.values(newDocuments).every(Boolean));\r\n      } catch (error) {\r\n        setErrorMessage(\"Gagal mengambil dokumen, silakan coba lagi.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDocuments();\r\n  }, [uploadedBy]);\r\n\r\n  const handleVerificationChange = (category, value) => {\r\n    setVerifications((prev) => ({ ...prev, [category]: value }));\r\n  };\r\n\r\n  const handleNoteChange = (category, value) => {\r\n    setNotes((prev) => ({ ...prev, [category]: value }));\r\n  };\r\n\r\n  const handleVerifySubmit = async (category) => {\r\n    try {\r\n      const document = documents[category];\r\n      const isVerified = verifications[category];\r\n      const note = notes[category] ?? \"\";\r\n\r\n      if (isVerified === null) return;\r\n      if (isVerified === false && !window.confirm(`Tolak dokumen \"${category}\"?`)) return;\r\n\r\n      await apiClient.patch(\r\n        `/document/verify?uuid=${document.uuid}&isVerified=${isVerified}&note=${encodeURIComponent(note)}`\r\n      );\r\n      alert(`Dokumen \"${category}\" telah diverifikasi.`);\r\n    } catch (error) {\r\n      alert(`Gagal memverifikasi dokumen \"${category}\".`);\r\n    }\r\n  };\r\n\r\n  const handleDocumentCompletionStatus = async () => {\r\n    try {\r\n      const isAllVerified = Object.values(verifications).every((v) => v === true);\r\n\r\n      // Kirim status ke backend bahwa dokumen sudah lengkap dan valid\r\n      if (isAllVerified) {\r\n        await apiClient.patch(`/document/completion-status?uploadedBy=${uploadedBy}&isComplete=true`);\r\n\r\n        alert(\"Dokumen lengkap dan status beasiswa telah diperbarui.\");\r\n      } else {\r\n        alert(\"Dokumen belum lengkap atau belum tervalidasi.\");\r\n      }\r\n    } catch (error) {\r\n      alert(\"Gagal memperbarui status kelengkapan dokumen.\");\r\n    }\r\n  };\r\n\r\n  \r\n  const previewDocument = async (uuid) => {\r\n    try {\r\n      const response = await apiClient.get(`/document/preview/${uuid}`, { responseType: \"blob\" });\r\n      const blob = new Blob([response.data], { type: response.headers['content-type'] });\r\n      window.open(URL.createObjectURL(blob), \"_blank\");\r\n    } catch {\r\n      alert(\"Gagal membuka dokumen.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"mt-5\">\r\n      {errorMessage && <div className=\"alert alert-danger\">{errorMessage}</div>}\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2 className=\"fs-4 fw-bold m-0\">Cek Dokumen</h2>\r\n        <div className=\"d-flex gap-2\">\r\n          <span>Status</span>\r\n          <span>:</span>\r\n          <span className={allComplete && Object.values(verifications).every((v) => v === true) ? \"text-success\" : \"text-danger\"}>\r\n            {allComplete && Object.values(verifications).every((v) => v === true) ? \"Dokumen Valid dan Lengkap\" : \"Belum Valid atau Tidak Lengkap\"}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"list-group border-0\">\r\n        {documentList.map((doc, idx) => (\r\n          <div key={idx} className=\"list-group-item border-0 bg-transparent mb-3\">\r\n            <div className=\"d-flex align-items-center gap-3 mb-2\">\r\n              <span className=\"fw-medium\">{doc}</span>\r\n              <span className=\"mx-2\">:</span>\r\n              {documents[doc] ? (\r\n                <button\r\n                  className=\"btn btn-sm btn-outline-success\"\r\n                  onClick={() => previewDocument(documents[doc]?.uuid)}\r\n                >\r\n                  Lihat\r\n                </button>\r\n              ) : (\r\n                <span className=\"text-muted\">Tidak ada File</span>\r\n              )}\r\n\r\n              {verifications[doc] === true && <span className=\"badge bg-success\">Valid</span>}\r\n              {verifications[doc] === false && <span className=\"badge bg-danger\">Tidak Valid</span>}\r\n              {verifications[doc] === null && <span className=\"badge bg-secondary\">Belum Dicek</span>}\r\n            </div>\r\n\r\n            {documents[doc] && (\r\n              <div className=\"ps-4\">\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label mb-1\">Catatan:</label>\r\n                  <textarea\r\n                    rows=\"2\"\r\n                    className=\"form-control\"\r\n                    value={notes[doc] || \"\"}\r\n                    onChange={(e) => handleNoteChange(doc, e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3 d-flex align-items-center gap-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={verifications[doc] === true}\r\n                    disabled={verifications[doc] === true}\r\n                    onChange={(e) => handleVerificationChange(doc, e.target.checked)}\r\n                  />\r\n                  <button\r\n                    className=\"btn btn-sm btn-primary\"\r\n                    onClick={() => handleVerifySubmit(doc)}\r\n                    disabled={verifications[doc] === null || verifications[doc] === true}\r\n                  >\r\n                    Simpan Verifikasi\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <button\r\n        className=\"btn btn-success rounded-pill px-5 mt-5\"\r\n        disabled={!allComplete}\r\n        onClick={handleDocumentCompletionStatus}\r\n      >\r\n        {allComplete ? \"Selesai\" : \"Lengkapi Dulu\"}\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}