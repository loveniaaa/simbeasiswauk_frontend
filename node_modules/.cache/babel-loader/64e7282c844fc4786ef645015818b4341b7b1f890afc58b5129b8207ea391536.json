{"ast":null,"code":"\"use client\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import StudentInfo from\"./UserInfo\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function StatusCard(){const[student,setStudent]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchStudentData=async()=>{try{var _storedUser$user,_response$data$output;const storedUser=JSON.parse(localStorage.getItem(\"user\"));const token=storedUser===null||storedUser===void 0?void 0:storedUser.token;const userUuid=storedUser===null||storedUser===void 0?void 0:(_storedUser$user=storedUser.user)===null||_storedUser$user===void 0?void 0:_storedUser$user.uuid;// <-- ini yang dipakai untuk GET\nif(!token||!userUuid){console.error(\"Token atau UUID user tidak tersedia.\");return;}const response=await axios.get(`http://localhost:9900/sms-mgmt/scholarship/get?userUuid=${userUuid}`,{headers:{Authorization:`Bearer ${token}`}});const scholarshipData=((_response$data$output=response.data.output_schema.records)===null||_response$data$output===void 0?void 0:_response$data$output[0])||null;setStudent(scholarshipData);}catch(error){console.error(\"Gagal fetch data scholarship:\",error);}finally{setLoading(false);}};fetchStudentData();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:\"Memuat informasi beasiswa...\"});}if(!student){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5 text-danger\",children:\"Belum ada data pendaftaran beasiswa.\"});}const isApproved=student.status===\"APPROVED\";const isRejected=student.status===\"REJECTED\";return/*#__PURE__*/_jsxs(\"section\",{className:\"bg-body-tertiary rounded-4 shadow p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`rounded-4 p-4 d-flex flex-column flex-md-row align-items-center justify-content-between mb-4 ${isApproved?\"bg-success-subtle\":isRejected?\"bg-danger-subtle\":\"bg-warning-subtle\"}`,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.builder.io/api/v1/image/assets/6e56f22283ca426d8ccf6afbc1731b56/6ec9716ab75e18b052329cccc141fcbf2f7c7638?placeholderIfAbsent=true\",alt:\"Status Icon\",style:{width:\"80px\",height:\"80px\"},className:\"mb-3 mb-md-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h5 fw-bold mb-2\",children:isApproved?\"Selamat! Anda Diterima\":isRejected?\"Maaf, Anda Tidak Lolos\":\"Masih dalam Proses Seleksi\"}),/*#__PURE__*/_jsx(\"p\",{className:\"fs-6 text-muted mb-0\",children:isApproved?\"Selamat Anda berhasil menjadi penerima beasiswa!\":isRejected?\"Tetap semangat untuk kesempatan berikutnya.\":\"Harap cek kembali saat pengumuman.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3 mt-3 mt-md-0\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.builder.io/api/v1/image/assets/6e56f22283ca426d8ccf6afbc1731b56/ac90fedeca26d1753ba5b8f81d53288fc5d43f8e?placeholderIfAbsent=true\",alt:\"Icon 1\",style:{width:\"50px\",height:\"50px\"}}),/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.builder.io/api/v1/image/assets/6e56f22283ca426d8ccf6afbc1731b56/0e34a6da093adf40a7f5888c16bff8935e9ccedb?placeholderIfAbsent=true\",alt:\"Icon 2\",style:{width:\"50px\",height:\"50px\"}})]})]}),/*#__PURE__*/_jsx(StudentInfo,{student:student})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","StudentInfo","jsx","_jsx","jsxs","_jsxs","StatusCard","student","setStudent","loading","setLoading","fetchStudentData","_storedUser$user","_response$data$output","storedUser","JSON","parse","localStorage","getItem","token","userUuid","user","uuid","console","error","response","get","headers","Authorization","scholarshipData","data","output_schema","records","className","children","isApproved","status","isRejected","src","alt","style","width","height"],"sources":["D:/Lovenia Skripsi 2/src/assets/Pages/Mahasiswa/Status/StatusCard.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport StudentInfo from \"./UserInfo\";\r\n\r\nexport function StatusCard() {\r\n  const [student, setStudent] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchStudentData = async () => {\r\n      try {\r\n        const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n        const token = storedUser?.token;\r\n        const userUuid = storedUser?.user?.uuid; // <-- ini yang dipakai untuk GET\r\n\r\n        if (!token || !userUuid) {\r\n          console.error(\"Token atau UUID user tidak tersedia.\");\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get(`http://localhost:9900/sms-mgmt/scholarship/get?userUuid=${userUuid}`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        const scholarshipData = response.data.output_schema.records?.[0] || null;\r\n        setStudent(scholarshipData);\r\n      } catch (error) {\r\n        console.error(\"Gagal fetch data scholarship:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchStudentData();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-5\">Memuat informasi beasiswa...</div>;\r\n  }\r\n\r\n  if (!student) {\r\n    return <div className=\"text-center py-5 text-danger\">Belum ada data pendaftaran beasiswa.</div>;\r\n  }\r\n\r\n  const isApproved = student.status === \"APPROVED\";\r\n  const isRejected = student.status === \"REJECTED\";\r\n\r\n  return (\r\n    <section className=\"bg-body-tertiary rounded-4 shadow p-4\">\r\n      {/* Bagian Status */}\r\n      <div className={`rounded-4 p-4 d-flex flex-column flex-md-row align-items-center justify-content-between mb-4 ${isApproved ? \"bg-success-subtle\" : isRejected ? \"bg-danger-subtle\" : \"bg-warning-subtle\"}`}>\r\n        <img\r\n          src=\"https://cdn.builder.io/api/v1/image/assets/6e56f22283ca426d8ccf6afbc1731b56/6ec9716ab75e18b052329cccc141fcbf2f7c7638?placeholderIfAbsent=true\"\r\n          alt=\"Status Icon\"\r\n          style={{ width: \"80px\", height: \"80px\" }}\r\n          className=\"mb-3 mb-md-0\"\r\n        />\r\n        <div className=\"text-center\">\r\n          <h2 className=\"h5 fw-bold mb-2\">\r\n            {isApproved ? \"Selamat! Anda Diterima\" : isRejected ? \"Maaf, Anda Tidak Lolos\" : \"Masih dalam Proses Seleksi\"}\r\n          </h2>\r\n          <p className=\"fs-6 text-muted mb-0\">\r\n            {isApproved ? \"Selamat Anda berhasil menjadi penerima beasiswa!\" : isRejected ? \"Tetap semangat untuk kesempatan berikutnya.\" : \"Harap cek kembali saat pengumuman.\"}\r\n          </p>\r\n        </div>\r\n        <div className=\"d-flex gap-3 mt-3 mt-md-0\">\r\n          <img src=\"https://cdn.builder.io/api/v1/image/assets/6e56f22283ca426d8ccf6afbc1731b56/ac90fedeca26d1753ba5b8f81d53288fc5d43f8e?placeholderIfAbsent=true\" alt=\"Icon 1\" style={{ width: \"50px\", height: \"50px\" }} />\r\n          <img src=\"https://cdn.builder.io/api/v1/image/assets/6e56f22283ca426d8ccf6afbc1731b56/0e34a6da093adf40a7f5888c16bff8935e9ccedb?placeholderIfAbsent=true\" alt=\"Icon 2\" style={{ width: \"50px\", height: \"50px\" }} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bagian Informasi Mahasiswa */}\r\n      <StudentInfo student={student} />\r\n    </section>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}