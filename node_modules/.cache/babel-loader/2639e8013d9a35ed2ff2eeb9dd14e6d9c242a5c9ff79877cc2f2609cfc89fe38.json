{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import apiClient from\"../../../../../api/apiClient\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnnouncementUpdate=()=>{const{state}=useLocation();const[announcement,setAnnouncement]=useState(state||{});const[loading,setLoading]=useState(false);const navigate=useNavigate();useEffect(()=>{if(!state){// Fetch the announcement if no state is passed\nconst fetchAnnouncement=async()=>{try{const response=await apiClient.get(`/announcement/detail?uuid=${state===null||state===void 0?void 0:state.uuid}`);setAnnouncement(response.data);}catch(error){console.error(\"Error fetching announcement:\",error);}};fetchAnnouncement();}},[state]);const handleUpdate=async()=>{try{setLoading(true);await apiClient.put(\"/announcement/update\",announcement);setLoading(false);navigate(\"/admin/pengumuman\");}catch(error){setLoading(false);console.error(\"Error updating announcement:\",error);}};const handleInputChange=e=>{const{name,value}=e.target;setAnnouncement({...announcement,[name]:value});};return/*#__PURE__*/_jsxs(\"section\",{className:\"py-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h4 fw-bold mb-4\",children:\"Update Pengumuman\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",className:\"form-control\",value:announcement.title||\"\",onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"form-label\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"category\",name:\"category\",className:\"form-control\",value:announcement.category||\"\",onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",className:\"form-control\",rows:\"4\",value:announcement.description||\"\",onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleUpdate,disabled:loading,children:loading?\"Updating...\":\"Update Pengumuman\"})]})]});};export default AnnouncementUpdate;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","apiClient","jsx","_jsx","jsxs","_jsxs","AnnouncementUpdate","state","announcement","setAnnouncement","loading","setLoading","navigate","fetchAnnouncement","response","get","uuid","data","error","console","handleUpdate","put","handleInputChange","e","name","value","target","className","children","htmlFor","type","id","title","onChange","category","rows","description","onClick","disabled"],"sources":["D:/Lovenia Skripsi 2/src/assets/Pages/Bidang Kemahasiswaan/Pengumuman/Update/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport apiClient from \"../../../../../api/apiClient\";\r\n\r\nconst AnnouncementUpdate = () => {\r\n  const { state } = useLocation();\r\n  const [announcement, setAnnouncement] = useState(state || {});\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!state) {\r\n      // Fetch the announcement if no state is passed\r\n      const fetchAnnouncement = async () => {\r\n        try {\r\n          const response = await apiClient.get(\r\n            `/announcement/detail?uuid=${state?.uuid}`\r\n          );\r\n          setAnnouncement(response.data);\r\n        } catch (error) {\r\n          console.error(\"Error fetching announcement:\", error);\r\n        }\r\n      };\r\n      fetchAnnouncement();\r\n    }\r\n  }, [state]);\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await apiClient.put(\"/announcement/update\", announcement);\r\n      setLoading(false);\r\n      navigate(\"/admin/pengumuman\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.error(\"Error updating announcement:\", error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setAnnouncement({ ...announcement, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <section className=\"py-4\">\r\n      <h2 className=\"h4 fw-bold mb-4\">Update Pengumuman</h2>\r\n      <form>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"title\" className=\"form-label\">\r\n            Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            name=\"title\"\r\n            className=\"form-control\"\r\n            value={announcement.title || \"\"}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"category\" className=\"form-label\">\r\n            Category\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"category\"\r\n            name=\"category\"\r\n            className=\"form-control\"\r\n            value={announcement.category || \"\"}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"description\" className=\"form-label\">\r\n            Description\r\n          </label>\r\n          <textarea\r\n            id=\"description\"\r\n            name=\"description\"\r\n            className=\"form-control\"\r\n            rows=\"4\"\r\n            value={announcement.description || \"\"}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          onClick={handleUpdate}\r\n          disabled={loading}\r\n        >\r\n          {loading ? \"Updating...\" : \"Update Pengumuman\"}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AnnouncementUpdate;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}