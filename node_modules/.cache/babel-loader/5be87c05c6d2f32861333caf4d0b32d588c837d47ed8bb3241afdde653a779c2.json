{"ast":null,"code":"\"use client\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ResetForm(){const[email,setEmail]=useState(\"\");const[message,setMessage]=useState(\"\");const[error,setError]=useState(\"\");const navigate=useNavigate();// Tambahkan ini\nconst handleSubmit=async e=>{e.preventDefault();setMessage(\"\");setError(\"\");try{const response=await fetch(\"http://103.31.39.151:9900/sms-mgmt/auth/forgot-password\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email})});const data=await response.json();if(response.ok){navigate(\"/forget-password/done\");}else{var _data$error_schema,_data$error_schema$er;const errorMsg=((_data$error_schema=data.error_schema)===null||_data$error_schema===void 0?void 0:(_data$error_schema$er=_data$error_schema.error_message)===null||_data$error_schema$er===void 0?void 0:_data$error_schema$er.indonesian)||\"Terjadi kesalahan.\";setError(errorMsg);}}catch(err){setError(\"Gagal mengirim permintaan. Periksa koneksi Anda.\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"bg-white rounded-3 p-4 d-flex flex-column align-items-center position-relative form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fw-semibold mb-4 title\",children:\"Lupa Kata Sandi\"}),/*#__PURE__*/_jsx(\"p\",{className:\"description mb-3\",children:\"Silahkan masukan Email anda untuk verifikasi\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"form-control email-input mb-3\",required:true}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"text-success mb-3\",children:message}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger mb-3\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn submit-button\",children:\"Get email verification\"})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        .form-container {\n          width: 800px;\n          height: 500px;\n          padding-top: 102px !important;\n        }\n        .title {\n          font-family: \"Onest\", sans-serif;\n          font-size: 25px;\n          color: #000;\n        }\n        .description {\n          font-family: \"Onest\", sans-serif;\n          font-size: 16px;\n          color: #000;\n        }\n        .email-input {\n          width: 500px;\n          height: 35px;\n          color: #adb5bd;\n          font-family: \"Onest\", sans-serif;\n          border-color: #a19999;\n        }\n        .submit-button {\n          width: 500px;\n          height: 35px;\n          border-radius: 25px;\n          background-color: #bab7b7;\n          color: #000;\n          font-family: \"Roboto\", sans-serif;\n          font-weight: 700;\n          font-size: 16px;\n          white-space: nowrap;\n          padding: 0;\n          text-align: center;\n          transition: background-color 0.3s ease;\n        }\n        .submit-button:hover {\n          background-color: #a7a4a4;\n          color: #fff;\n        }\n\n        @media (max-width: 991px) {\n          .form-container {\n            width: 600px;\n            height: 400px;\n            padding-top: 80px !important;\n          }\n          .title {\n            font-size: 20px;\n          }\n          .description {\n            font-size: 14px;\n          }\n          .email-input {\n            width: 400px;\n            height: 30px;\n          }\n          .submit-button {\n            width: 400px;\n            height: 30px;\n            font-size: 14px;\n          }\n        }\n\n        @media (max-width: 640px) {\n          .form-container {\n            width: 300px;\n            height: 300px;\n            padding-top: 50px !important;\n          }\n          .title {\n            font-size: 18px;\n          }\n          .description {\n            font-size: 12px;\n          }\n          .email-input {\n            width: 250px;\n            height: 25px;\n          }\n          .submit-button {\n            width: 250px;\n            height: 25px;\n            font-size: 12px;\n          }\n        }\n      `})]});}export default ResetForm;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ResetForm","email","setEmail","message","setMessage","error","setError","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","_data$error_schema","_data$error_schema$er","errorMsg","error_schema","error_message","indonesian","err","children","onSubmit","className","type","placeholder","value","onChange","target","required"],"sources":["D:/Lovenia Skripsi/localhost/simbeasiswauk_frontend/src/assets/components/ForgetPassword/ResetForm.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction ResetForm() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate(); // Tambahkan ini\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    setError(\"\");\r\n\r\n    try {\r\n      const response = await fetch(\"http://103.31.39.151:9900/sms-mgmt/auth/forgot-password\", {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        navigate(\"/forget-password/done\"); \r\n      } else {\r\n        const errorMsg = data.error_schema?.error_message?.indonesian || \"Terjadi kesalahan.\";\r\n        setError(errorMsg);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Gagal mengirim permintaan. Periksa koneksi Anda.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"bg-white rounded-3 p-4 d-flex flex-column align-items-center position-relative form-container\"\r\n      >\r\n        <h1 className=\"fw-semibold mb-4 title\">Lupa Kata Sandi</h1>\r\n        <p className=\"description mb-3\">\r\n          Silahkan masukan Email anda untuk verifikasi\r\n        </p>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          className=\"form-control email-input mb-3\"\r\n          required\r\n        />\r\n        {message && <div className=\"text-success mb-3\">{message}</div>}\r\n        {error && <div className=\"text-danger mb-3\">{error}</div>}\r\n        <button type=\"submit\" className=\"btn submit-button\">\r\n          Get email verification\r\n        </button>\r\n      </form>\r\n\r\n      <style jsx>{`\r\n        .form-container {\r\n          width: 800px;\r\n          height: 500px;\r\n          padding-top: 102px !important;\r\n        }\r\n        .title {\r\n          font-family: \"Onest\", sans-serif;\r\n          font-size: 25px;\r\n          color: #000;\r\n        }\r\n        .description {\r\n          font-family: \"Onest\", sans-serif;\r\n          font-size: 16px;\r\n          color: #000;\r\n        }\r\n        .email-input {\r\n          width: 500px;\r\n          height: 35px;\r\n          color: #adb5bd;\r\n          font-family: \"Onest\", sans-serif;\r\n          border-color: #a19999;\r\n        }\r\n        .submit-button {\r\n          width: 500px;\r\n          height: 35px;\r\n          border-radius: 25px;\r\n          background-color: #bab7b7;\r\n          color: #000;\r\n          font-family: \"Roboto\", sans-serif;\r\n          font-weight: 700;\r\n          font-size: 16px;\r\n          white-space: nowrap;\r\n          padding: 0;\r\n          text-align: center;\r\n          transition: background-color 0.3s ease;\r\n        }\r\n        .submit-button:hover {\r\n          background-color: #a7a4a4;\r\n          color: #fff;\r\n        }\r\n\r\n        @media (max-width: 991px) {\r\n          .form-container {\r\n            width: 600px;\r\n            height: 400px;\r\n            padding-top: 80px !important;\r\n          }\r\n          .title {\r\n            font-size: 20px;\r\n          }\r\n          .description {\r\n            font-size: 14px;\r\n          }\r\n          .email-input {\r\n            width: 400px;\r\n            height: 30px;\r\n          }\r\n          .submit-button {\r\n            width: 400px;\r\n            height: 30px;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 640px) {\r\n          .form-container {\r\n            width: 300px;\r\n            height: 300px;\r\n            padding-top: 50px !important;\r\n          }\r\n          .title {\r\n            font-size: 18px;\r\n          }\r\n          .description {\r\n            font-size: 12px;\r\n          }\r\n          .email-input {\r\n            width: 250px;\r\n            height: 25px;\r\n          }\r\n          .submit-button {\r\n            width: 250px;\r\n            height: 25px;\r\n            font-size: 12px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResetForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}