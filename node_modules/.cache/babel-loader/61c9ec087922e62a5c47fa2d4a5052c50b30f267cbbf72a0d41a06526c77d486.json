{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import apiClient from\"../../../../../api/apiClient\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnnouncementDetail=()=>{const{uuid}=useParams();// Get uuid from the URL params\nconst{state}=useLocation();// Retrieve the state passed from the previous page\nconst[announcement,setAnnouncement]=useState(state||{});// Set announcement to state if available\nconst navigate=useNavigate();useEffect(()=>{if(!state){// If no state was passed, fetch the announcement details\nconst fetchAnnouncementDetail=async()=>{try{const response=await apiClient.get(`/announcement/detail?uuid=${uuid}`);setAnnouncement(response.data);// Set the fetched data to the state\n}catch(error){console.error(\"Error fetching announcement details:\",error);}};fetchAnnouncementDetail();}},[uuid,state]);// Dependency on uuid and state\nreturn/*#__PURE__*/_jsxs(\"section\",{className:\"py-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h4 fw-bold mb-4\",children:\"Detail Pengumuman\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:announcement.title}),/*#__PURE__*/_jsx(\"p\",{children:announcement.category}),/*#__PURE__*/_jsx(\"p\",{children:new Date(announcement.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"p\",{children:announcement.description})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate(`/admin/announcement/update/${announcement.uuid}`,{state:announcement}),children:\"Edit Pengumuman\"})]});};export default AnnouncementDetail;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","useParams","apiClient","jsx","_jsx","jsxs","_jsxs","AnnouncementDetail","uuid","state","announcement","setAnnouncement","navigate","fetchAnnouncementDetail","response","get","data","error","console","className","children","title","category","Date","createdAt","toLocaleDateString","description","onClick"],"sources":["D:/Lovenia Skripsi 2/src/assets/Pages/Bidang Kemahasiswaan/Pengumuman/Detail/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport apiClient from \"../../../../../api/apiClient\";\r\n\r\nconst AnnouncementDetail = () => {\r\n  const { uuid } = useParams(); // Get uuid from the URL params\r\n  const { state } = useLocation(); // Retrieve the state passed from the previous page\r\n  const [announcement, setAnnouncement] = useState(state || {}); // Set announcement to state if available\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!state) {\r\n      // If no state was passed, fetch the announcement details\r\n      const fetchAnnouncementDetail = async () => {\r\n        try {\r\n          const response = await apiClient.get(`/announcement/detail?uuid=${uuid}`);\r\n          setAnnouncement(response.data); // Set the fetched data to the state\r\n        } catch (error) {\r\n          console.error(\"Error fetching announcement details:\", error);\r\n        }\r\n      };\r\n      fetchAnnouncementDetail();\r\n    }\r\n  }, [uuid, state]); // Dependency on uuid and state\r\n\r\n  return (\r\n    <section className=\"py-4\">\r\n      <h2 className=\"h4 fw-bold mb-4\">Detail Pengumuman</h2>\r\n      <div>\r\n        <h5>{announcement.title}</h5>\r\n        <p>{announcement.category}</p>\r\n        <p>{new Date(announcement.createdAt).toLocaleDateString()}</p>\r\n        <p>{announcement.description}</p>\r\n      </div>\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        onClick={() => navigate(`/admin/announcement/update/${announcement.uuid}`, { state: announcement })}\r\n      >\r\n        Edit Pengumuman\r\n      </button>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AnnouncementDetail;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACtE,MAAO,CAAAC,SAAS,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAEC,IAAK,CAAC,CAAGP,SAAS,CAAC,CAAC,CAAE;AAC9B,KAAM,CAAEQ,KAAM,CAAC,CAAGV,WAAW,CAAC,CAAC,CAAE;AACjC,KAAM,CAACW,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAACW,KAAK,EAAI,CAAC,CAAC,CAAC,CAAE;AAC/D,KAAM,CAAAG,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACd,GAAI,CAACY,KAAK,CAAE,CACV;AACA,KAAM,CAAAI,uBAAuB,CAAG,KAAAA,CAAA,GAAY,CAC1C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,SAAS,CAACa,GAAG,CAAC,6BAA6BP,IAAI,EAAE,CAAC,CACzEG,eAAe,CAACG,QAAQ,CAACE,IAAI,CAAC,CAAE;AAClC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC9D,CACF,CAAC,CACDJ,uBAAuB,CAAC,CAAC,CAC3B,CACF,CAAC,CAAE,CAACL,IAAI,CAAEC,KAAK,CAAC,CAAC,CAAE;AAEnB,mBACEH,KAAA,YAASa,SAAS,CAAC,MAAM,CAAAC,QAAA,eACvBhB,IAAA,OAAIe,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACtDd,KAAA,QAAAc,QAAA,eACEhB,IAAA,OAAAgB,QAAA,CAAKV,YAAY,CAACW,KAAK,CAAK,CAAC,cAC7BjB,IAAA,MAAAgB,QAAA,CAAIV,YAAY,CAACY,QAAQ,CAAI,CAAC,cAC9BlB,IAAA,MAAAgB,QAAA,CAAI,GAAI,CAAAG,IAAI,CAACb,YAAY,CAACc,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAI,CAAC,cAC9DrB,IAAA,MAAAgB,QAAA,CAAIV,YAAY,CAACgB,WAAW,CAAI,CAAC,EAC9B,CAAC,cACNtB,IAAA,WACEe,SAAS,CAAC,iBAAiB,CAC3BQ,OAAO,CAAEA,CAAA,GAAMf,QAAQ,CAAC,8BAA8BF,YAAY,CAACF,IAAI,EAAE,CAAE,CAAEC,KAAK,CAAEC,YAAa,CAAC,CAAE,CAAAU,QAAA,CACrG,iBAED,CAAQ,CAAC,EACF,CAAC,CAEd,CAAC,CAED,cAAe,CAAAb,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}