{"ast":null,"code":"\"use client\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function DashboardContent(){const[fullName,setFullName]=useState(\"\");const[scholarshipType,setScholarshipType]=useState(\"-\");const[registrationDate,setRegistrationDate]=useState(\"-\");useEffect(()=>{const fetchUserAndScholarship=async()=>{var _storedUser$user,_storedUser$user2,_storedUser$user3;const storedUser=JSON.parse(localStorage.getItem(\"user\"));if(!storedUser)return;const firstName=(storedUser===null||storedUser===void 0?void 0:(_storedUser$user=storedUser.user)===null||_storedUser$user===void 0?void 0:_storedUser$user.first_name)||\"-\";const lastName=(storedUser===null||storedUser===void 0?void 0:(_storedUser$user2=storedUser.user)===null||_storedUser$user2===void 0?void 0:_storedUser$user2.last_name)||\"-\";setFullName(`${lastName}, ${firstName}`);const userUuid=storedUser===null||storedUser===void 0?void 0:(_storedUser$user3=storedUser.user)===null||_storedUser$user3===void 0?void 0:_storedUser$user3.uuid;const token=storedUser===null||storedUser===void 0?void 0:storedUser.token;if(!userUuid||!token){console.error(\"UUID atau token tidak ditemukan.\");return;}try{const response=await axios.get(`http://localhost:9900/sms-mgmt/scholarship/get?userUuid=${userUuid}`,{headers:{Authorization:`Bearer ${token}`}});const scholarshipRecords=response.data.output_schema.records;if(scholarshipRecords&&scholarshipRecords.length>0){setScholarshipType(scholarshipRecords[0].scholarshipType||\"-\");const createdAt=scholarshipRecords[0].createdAt;if(createdAt){const dateObj=new Date(createdAt);const formattedDate=dateObj.toLocaleDateString(\"id-ID\",{day:\"2-digit\",month:\"long\",year:\"numeric\"});setRegistrationDate(formattedDate);}}else{setScholarshipType(\"-\");setRegistrationDate(\"-\");}}catch(error){console.error(\"Error fetching scholarship:\",error);setScholarshipType(\"-\");setRegistrationDate(\"-\");}};fetchUserAndScholarship();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Onest:wght@100..900&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"main\",{className:\"col-lg-8\",style:{fontFamily:\"'Onest', sans-serif\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 px-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold mb-3\",children:\"Hai, Selamat Datang\"}),/*#__PURE__*/_jsx(\"p\",{className:\"h4 fw-normal\",children:fullName}),/*#__PURE__*/_jsxs(\"section\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold mb-4\",children:\"Informasi Beasiswa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm border-0 rounded-4 p-4 bg-white\",style:{maxWidth:\"500px\",margin:\"auto\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Jenis Beasiswa\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-semibold\",children:scholarshipType})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Tanggal Daftar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-semibold\",children:registrationDate})]})]})})]}),/*#__PURE__*/_jsx(\"section\",{className:\"mt-5\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold\",children:\"Pengumuman\"})})]})})]});}export default DashboardContent;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DashboardContent","fullName","setFullName","scholarshipType","setScholarshipType","registrationDate","setRegistrationDate","fetchUserAndScholarship","_storedUser$user","_storedUser$user2","_storedUser$user3","storedUser","JSON","parse","localStorage","getItem","firstName","user","first_name","lastName","last_name","userUuid","uuid","token","console","error","response","get","headers","Authorization","scholarshipRecords","data","output_schema","records","length","createdAt","dateObj","Date","formattedDate","toLocaleDateString","day","month","year","children","href","rel","className","style","fontFamily","maxWidth","margin"],"sources":["D:/Lovenia Skripsi 2/src/assets/Pages/Mahasiswa/Dashboard/Content.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction DashboardContent() {\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [scholarshipType, setScholarshipType] = useState(\"-\");\r\n  const [registrationDate, setRegistrationDate] = useState(\"-\");\r\n\r\n  useEffect(() => {\r\n    const fetchUserAndScholarship = async () => {\r\n      const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n      if (!storedUser) return;\r\n\r\n      const firstName = storedUser?.user?.first_name || \"-\";\r\n      const lastName = storedUser?.user?.last_name || \"-\";\r\n      setFullName(`${lastName}, ${firstName}`);\r\n\r\n      const userUuid = storedUser?.user?.uuid;\r\n      const token = storedUser?.token;\r\n\r\n      if (!userUuid || !token) {\r\n        console.error(\"UUID atau token tidak ditemukan.\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:9900/sms-mgmt/scholarship/get?userUuid=${userUuid}`,\r\n          {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }\r\n        );\r\n\r\n        const scholarshipRecords = response.data.output_schema.records;\r\n\r\n        if (scholarshipRecords && scholarshipRecords.length > 0) {\r\n          setScholarshipType(scholarshipRecords[0].scholarshipType || \"-\");\r\n\r\n          const createdAt = scholarshipRecords[0].createdAt;\r\n          if (createdAt) {\r\n            const dateObj = new Date(createdAt);\r\n            const formattedDate = dateObj.toLocaleDateString(\"id-ID\", {\r\n              day: \"2-digit\",\r\n              month: \"long\",\r\n              year: \"numeric\",\r\n            });\r\n            setRegistrationDate(formattedDate);\r\n          }\r\n        } else {\r\n          setScholarshipType(\"-\");\r\n          setRegistrationDate(\"-\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching scholarship:\", error);\r\n        setScholarshipType(\"-\");\r\n        setRegistrationDate(\"-\");\r\n      }\r\n    };\r\n\r\n    fetchUserAndScholarship();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <link\r\n        href=\"https://fonts.googleapis.com/css2?family=Onest:wght@100..900&display=swap\"\r\n        rel=\"stylesheet\"\r\n      />\r\n      <main className=\"col-lg-8\" style={{ fontFamily: \"'Onest', sans-serif\" }}>\r\n        <div className=\"py-5 px-4\">\r\n          <h2 className=\"fw-bold mb-3\">Hai, Selamat Datang</h2>\r\n          <p className=\"h4 fw-normal\">{fullName}</p>\r\n\r\n          {/* Informasi Beasiswa */}\r\n          <section className=\"mt-5\">\r\n            <h3 className=\"fw-bold mb-4\">Informasi Beasiswa</h3>\r\n\r\n            <div className=\"card shadow-sm border-0 rounded-4 p-4 bg-white\" style={{ maxWidth: \"500px\", margin: \"auto\" }}>\r\n              <div className=\"d-flex flex-column gap-3\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <span className=\"text-muted\">Jenis Beasiswa</span>\r\n                  <span className=\"fw-semibold\">{scholarshipType}</span>\r\n                </div>\r\n                <hr className=\"my-1\" />\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <span className=\"text-muted\">Tanggal Daftar</span>\r\n                  <span className=\"fw-semibold\">{registrationDate}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Pengumuman */}\r\n          <section className=\"mt-5\">\r\n            <h3 className=\"fw-bold\">Pengumuman</h3>\r\n          </section>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DashboardContent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}