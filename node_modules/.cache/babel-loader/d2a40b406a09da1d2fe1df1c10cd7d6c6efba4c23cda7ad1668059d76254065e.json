{"ast":null,"code":"\"use client\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function DashboardContent(){const[fullName,setFullName]=useState(\"\");const[scholarshipType,setScholarshipType]=useState(\"-\");const[registrationDate,setRegistrationDate]=useState(\"-\");useEffect(()=>{const fetchUserAndScholarship=async()=>{var _storedUser$user,_storedUser$user2,_storedUser$user3;const storedUser=JSON.parse(localStorage.getItem(\"user\"));if(!storedUser)return;const firstName=(storedUser===null||storedUser===void 0?void 0:(_storedUser$user=storedUser.user)===null||_storedUser$user===void 0?void 0:_storedUser$user.first_name)||\"-\";const lastName=(storedUser===null||storedUser===void 0?void 0:(_storedUser$user2=storedUser.user)===null||_storedUser$user2===void 0?void 0:_storedUser$user2.last_name)||\"-\";setFullName(`${lastName}, ${firstName}`);const userUuid=storedUser===null||storedUser===void 0?void 0:(_storedUser$user3=storedUser.user)===null||_storedUser$user3===void 0?void 0:_storedUser$user3.uuid;const token=storedUser===null||storedUser===void 0?void 0:storedUser.token;if(!userUuid||!token)return;try{const response=await axios.get(`https://simbeasiswauk.site:9900/sms-mgmt/scholarship/get?userUuid=${userUuid}`,{headers:{Authorization:`Bearer ${token}`}});const scholarshipRecords=response.data.output_schema.records;if(scholarshipRecords&&scholarshipRecords.length>0){setScholarshipType(scholarshipRecords[0].scholarshipType||\"-\");const createdAt=scholarshipRecords[0].createdAt;if(createdAt){const dateObj=new Date(createdAt);const formattedDate=dateObj.toLocaleDateString(\"id-ID\",{day:\"2-digit\",month:\"long\",year:\"numeric\"});setRegistrationDate(formattedDate);}}}catch(error){console.error(\"Error fetching scholarship:\",error);}};fetchUserAndScholarship();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Onest:wght@100..900&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsxs(\"main\",{className:\"col-lg-8 mx-auto px-3 py-5\",style:{fontFamily:\"'Onest', sans-serif\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-4 shadow-sm mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold text-primary mb-2\",children:\"Hai, Selamat Datang \\uD83D\\uDC4B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"h5 text-secondary\",children:fullName})]}),/*#__PURE__*/_jsx(\"section\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-4 shadow-sm p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold mb-3 text-dark\",children:\"Informasi Beasiswa\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm rounded-4 bg-white p-3 hover-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Jenis Beasiswa\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-semibold text-dark\",children:scholarshipType})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Tanggal Daftar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-semibold text-dark\",children:registrationDate})]})]})]})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold mb-0 text-dark\",children:\"\\uD83D\\uDCE2 Pengumuman\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mt-2\",children:\"Belum ada pengumuman terbaru saat ini.\"})]})})]})]});}export default DashboardContent;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DashboardContent","fullName","setFullName","scholarshipType","setScholarshipType","registrationDate","setRegistrationDate","fetchUserAndScholarship","_storedUser$user","_storedUser$user2","_storedUser$user3","storedUser","JSON","parse","localStorage","getItem","firstName","user","first_name","lastName","last_name","userUuid","uuid","token","response","get","headers","Authorization","scholarshipRecords","data","output_schema","records","length","createdAt","dateObj","Date","formattedDate","toLocaleDateString","day","month","year","error","console","children","href","rel","className","style","fontFamily"],"sources":["D:/Lovenia Skripsi 2/src/assets/Pages/Mahasiswa/Dashboard/Content.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction DashboardContent() {\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [scholarshipType, setScholarshipType] = useState(\"-\");\r\n  const [registrationDate, setRegistrationDate] = useState(\"-\");\r\n\r\n  useEffect(() => {\r\n    const fetchUserAndScholarship = async () => {\r\n      const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n      if (!storedUser) return;\r\n\r\n      const firstName = storedUser?.user?.first_name || \"-\";\r\n      const lastName = storedUser?.user?.last_name || \"-\";\r\n      setFullName(`${lastName}, ${firstName}`);\r\n\r\n      const userUuid = storedUser?.user?.uuid;\r\n      const token = storedUser?.token;\r\n      if (!userUuid || !token) return;\r\n\r\n      try {\r\n        const response = await axios.get(\r\n          `https://simbeasiswauk.site:9900/sms-mgmt/scholarship/get?userUuid=${userUuid}`,\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n        const scholarshipRecords = response.data.output_schema.records;\r\n\r\n        if (scholarshipRecords && scholarshipRecords.length > 0) {\r\n          setScholarshipType(scholarshipRecords[0].scholarshipType || \"-\");\r\n\r\n          const createdAt = scholarshipRecords[0].createdAt;\r\n          if (createdAt) {\r\n            const dateObj = new Date(createdAt);\r\n            const formattedDate = dateObj.toLocaleDateString(\"id-ID\", {\r\n              day: \"2-digit\",\r\n              month: \"long\",\r\n              year: \"numeric\",\r\n            });\r\n            setRegistrationDate(formattedDate);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching scholarship:\", error);\r\n      }\r\n    };\r\n\r\n    fetchUserAndScholarship();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <link\r\n        href=\"https://fonts.googleapis.com/css2?family=Onest:wght@100..900&display=swap\"\r\n        rel=\"stylesheet\"\r\n      />\r\n      <main className=\"col-lg-8 mx-auto px-3 py-5\" style={{ fontFamily: \"'Onest', sans-serif\" }}>\r\n        <div className=\"bg-white p-4 rounded-4 shadow-sm mb-4\">\r\n          <h2 className=\"fw-bold text-primary mb-2\">Hai, Selamat Datang ðŸ‘‹</h2>\r\n          <p className=\"h5 text-secondary\">{fullName}</p>\r\n        </div>\r\n\r\n        <section className=\"mb-4\">\r\n          <div className=\"bg-light rounded-4 shadow-sm p-4\">\r\n            <h4 className=\"fw-bold mb-3 text-dark\">Informasi Beasiswa</h4>\r\n            <div className=\"card border-0 shadow-sm rounded-4 bg-white p-3 hover-shadow\">\r\n              <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                <span className=\"text-muted\">Jenis Beasiswa</span>\r\n                <span className=\"fw-semibold text-dark\">{scholarshipType}</span>\r\n              </div>\r\n              <hr />\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <span className=\"text-muted\">Tanggal Daftar</span>\r\n                <span className=\"fw-semibold text-dark\">{registrationDate}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section>\r\n          <div className=\"bg-white p-4 rounded-4 shadow-sm\">\r\n            <h4 className=\"fw-bold mb-0 text-dark\">ðŸ“¢ Pengumuman</h4>\r\n            <p className=\"text-muted mt-2\">Belum ada pengumuman terbaru saat ini.</p>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DashboardContent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}